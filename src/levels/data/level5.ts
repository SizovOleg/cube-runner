import { LevelData } from '../types';
import { GROUND_Y, ENTITY_SIZE } from '@utils/constants';

/**
 * Уровень 5: Цифровое Ядро (финальный)
 * Максимальная сложность. Падающий бинарный код на фоне.
 * Босс: Core — электрический куб 90x90, 3 фазы.
 */
const level5: LevelData = {
  id: 5,
  name: 'Digital Core',
  description: 'Финальное сражение в сердце системы',
  length: 22000,
  backgroundColor: '#000011',
  groundColor: '#0a0a2e',

  obstacles: [
    // === Секция 1 (0-2500): Начало системы ===
    { x: 400,  y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 460,  y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 520,  y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 750,  y: GROUND_Y - 80, width: 90, height: 15, type: 'platform' },
    { x: 950,  y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 1100, y: GROUND_Y - 110, width: 70, height: 15, type: 'moving_platform', moveRange: 65, moveSpeed: 1.4, moveAxis: 'y' },
    { x: 1300, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 1360, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 1420, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 1600, y: GROUND_Y - 90, width: 80, height: 15, type: 'platform' },
    { x: 1800, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 2000, y: GROUND_Y - 120, width: 70, height: 15, type: 'moving_platform', moveRange: 75, moveSpeed: 1.5, moveAxis: 'y' },
    { x: 2200, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 2260, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 2350, y: GROUND_Y - 70, width: 80, height: 15, type: 'platform' },

    // === Секция 2 (2500-5000): Цифровые лабиринты ===
    { x: 2600, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 2660, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 2720, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 2900, y: GROUND_Y - 100, width: 80, height: 15, type: 'platform' },
    { x: 3100, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 3300, y: GROUND_Y - 130, width: 70, height: 15, type: 'moving_platform', moveRange: 80, moveSpeed: 1.6, moveAxis: 'y' },
    { x: 3500, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 3560, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 3620, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 3800, y: GROUND_Y - 90, width: 80, height: 15, type: 'platform' },
    { x: 4000, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 4200, y: GROUND_Y - 110, width: 70, height: 15, type: 'moving_platform', moveRange: 70, moveSpeed: 1.5, moveAxis: 'x' },
    { x: 4400, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 4460, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 4650, y: GROUND_Y - 80, width: 90, height: 15, type: 'platform' },

    // === Секция 3 (5000-7500): Матрица угроз ===
    { x: 5000, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 5060, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 5120, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 5300, y: GROUND_Y - 130, width: 80, height: 15, type: 'moving_platform', moveRange: 85, moveSpeed: 1.7, moveAxis: 'y' },
    { x: 5500, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 5700, y: GROUND_Y - 100, width: 80, height: 15, type: 'platform' },
    { x: 5900, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 5960, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 6020, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 6200, y: GROUND_Y - 120, width: 70, height: 15, type: 'moving_platform', moveRange: 65, moveSpeed: 1.6, moveAxis: 'y' },
    { x: 6400, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 6600, y: GROUND_Y - 90, width: 90, height: 15, type: 'platform' },
    { x: 6800, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 6860, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 7050, y: GROUND_Y - 110, width: 70, height: 15, type: 'moving_platform', moveRange: 75, moveSpeed: 1.8, moveAxis: 'y' },
    { x: 7300, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },

    // === Секция 4 (7500-10000): Алгоритм смерти ===
    { x: 7600, y: GROUND_Y - 80, width: 80, height: 15, type: 'platform' },
    { x: 7800, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 7860, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 7920, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 8100, y: GROUND_Y - 140, width: 80, height: 15, type: 'moving_platform', moveRange: 85, moveSpeed: 1.9, moveAxis: 'y' },
    { x: 8300, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 8500, y: GROUND_Y - 90, width: 80, height: 15, type: 'platform' },
    { x: 8700, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 8760, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 8820, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 9000, y: GROUND_Y - 120, width: 70, height: 15, type: 'moving_platform', moveRange: 70, moveSpeed: 1.7, moveAxis: 'x' },
    { x: 9200, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 9400, y: GROUND_Y - 80, width: 90, height: 15, type: 'platform' },
    { x: 9600, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 9660, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 9720, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 9900, y: GROUND_Y - 130, width: 80, height: 15, type: 'moving_platform', moveRange: 80, moveSpeed: 1.8, moveAxis: 'y' },

    // === Секция 5 (10000-14000): До ракетного коридора ===
    { x: 10100, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 10300, y: GROUND_Y - 90, width: 80, height: 15, type: 'platform' },
    { x: 10500, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 10560, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 10750, y: GROUND_Y - 120, width: 70, height: 15, type: 'moving_platform', moveRange: 65, moveSpeed: 1.6, moveAxis: 'y' },
    { x: 10950, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 11100, y: GROUND_Y - 80, width: 80, height: 15, type: 'platform' },
    { x: 11300, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 11360, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 11360, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 11600, y: GROUND_Y - 110, width: 70, height: 15, type: 'moving_platform', moveRange: 70, moveSpeed: 1.7, moveAxis: 'y' },
    { x: 11800, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 12000, y: GROUND_Y - 90, width: 80, height: 15, type: 'platform' },
    { x: 12200, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 12260, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 12260, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 12500, y: GROUND_Y - 130, width: 80, height: 15, type: 'moving_platform', moveRange: 75, moveSpeed: 1.8, moveAxis: 'y' },
    { x: 12700, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 12900, y: GROUND_Y - 80, width: 90, height: 15, type: 'platform' },
    { x: 13100, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 13160, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 13400, y: GROUND_Y - 100, width: 70, height: 15, type: 'moving_platform', moveRange: 60, moveSpeed: 1.5, moveAxis: 'y' },
    { x: 13600, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 13800, y: GROUND_Y - 70, width: 80, height: 15, type: 'platform' },

    // === Секция 6: после ракетного коридора (17000-19000) ===
    { x: 17100, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 17200, y: GROUND_Y - 90, width: 80, height: 15, type: 'platform' },
    { x: 17400, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 17460, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 17650, y: GROUND_Y - 120, width: 70, height: 15, type: 'moving_platform', moveRange: 70, moveSpeed: 1.8, moveAxis: 'y' },
    { x: 17850, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 18000, y: GROUND_Y - 80, width: 80, height: 15, type: 'platform' },
    { x: 18200, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 18260, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 18260, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 18500, y: GROUND_Y - 110, width: 70, height: 15, type: 'moving_platform', moveRange: 65, moveSpeed: 1.9, moveAxis: 'y' },
    { x: 18700, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 18900, y: GROUND_Y - 90, width: 90, height: 15, type: 'platform' },
    { x: 19100, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 19160, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 19160, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 19400, y: GROUND_Y - 130, width: 80, height: 15, type: 'moving_platform', moveRange: 80, moveSpeed: 2.0, moveAxis: 'y' },
    { x: 19600, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 19800, y: GROUND_Y - 70, width: 90, height: 15, type: 'platform' },
    { x: 20000, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 20060, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
    { x: 20120, y: GROUND_Y - 20, width: 20, height: 20, type: 'spike' },
  ],

  enemies: [
    // Секция 1
    { x: 600,  y: GROUND_Y - ENTITY_SIZE, type: 'basic' },
    { x: 770,  y: GROUND_Y - 80 - ENTITY_SIZE, type: 'shooter' },
    { x: 1200, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 40 },
    { x: 1620, y: GROUND_Y - 90 - ENTITY_SIZE, type: 'basic' },
    { x: 2000, y: GROUND_Y - 120, type: 'flying', patrolRange: 60 },
    { x: 2370, y: GROUND_Y - 70 - ENTITY_SIZE, type: 'shooter' },

    // Секция 2
    { x: 2700, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 50 },
    { x: 2920, y: GROUND_Y - 100 - ENTITY_SIZE, type: 'shooter' },
    { x: 3300, y: GROUND_Y - ENTITY_SIZE, type: 'basic' },
    { x: 3820, y: GROUND_Y - 90 - ENTITY_SIZE, type: 'shooter' },
    { x: 4000, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 40 },
    { x: 4220, y: GROUND_Y - 110, type: 'flying', patrolRange: 70 },
    { x: 4670, y: GROUND_Y - 80 - ENTITY_SIZE, type: 'basic' },

    // Секция 3
    { x: 5100, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 50 },
    { x: 5320, y: GROUND_Y - 130, type: 'flying', patrolRange: 65 },
    { x: 5720, y: GROUND_Y - 100 - ENTITY_SIZE, type: 'shooter' },
    { x: 6000, y: GROUND_Y - ENTITY_SIZE, type: 'basic' },
    { x: 6220, y: GROUND_Y - 120, type: 'flying', patrolRange: 75 },
    { x: 6620, y: GROUND_Y - 90 - ENTITY_SIZE, type: 'shooter' },
    { x: 6900, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 45 },
    { x: 7070, y: GROUND_Y - 110, type: 'flying', patrolRange: 60 },

    // Секция 4
    { x: 7620, y: GROUND_Y - 80 - ENTITY_SIZE, type: 'shooter' },
    { x: 7900, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 50 },
    { x: 8120, y: GROUND_Y - 140, type: 'flying', patrolRange: 70 },
    { x: 8520, y: GROUND_Y - 90 - ENTITY_SIZE, type: 'shooter' },
    { x: 8750, y: GROUND_Y - ENTITY_SIZE, type: 'basic' },
    { x: 9020, y: GROUND_Y - 120, type: 'flying', patrolRange: 65 },
    { x: 9420, y: GROUND_Y - 80 - ENTITY_SIZE, type: 'shooter' },
    { x: 9620, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 40 },

    // Секция 5
    { x: 10120, y: GROUND_Y - 90 - ENTITY_SIZE, type: 'shooter' },
    { x: 10320, y: GROUND_Y - 90 - ENTITY_SIZE, type: 'basic' },
    { x: 10770, y: GROUND_Y - 120, type: 'flying', patrolRange: 60 },
    { x: 11120, y: GROUND_Y - 80 - ENTITY_SIZE, type: 'shooter' },
    { x: 11400, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 50 },
    { x: 11620, y: GROUND_Y - 110, type: 'flying', patrolRange: 70 },
    { x: 12020, y: GROUND_Y - 90 - ENTITY_SIZE, type: 'shooter' },
    { x: 12220, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 45 },
    { x: 12920, y: GROUND_Y - 80 - ENTITY_SIZE, type: 'shooter' },
    { x: 13120, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 40 },
    { x: 13420, y: GROUND_Y - 100, type: 'flying', patrolRange: 60 },
    { x: 13820, y: GROUND_Y - 70 - ENTITY_SIZE, type: 'basic' },

    // Секция 6 (после ракетного коридора)
    { x: 17220, y: GROUND_Y - 90 - ENTITY_SIZE, type: 'shooter' },
    { x: 17450, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 50 },
    { x: 17670, y: GROUND_Y - 120, type: 'flying', patrolRange: 65 },
    { x: 18020, y: GROUND_Y - 80 - ENTITY_SIZE, type: 'shooter' },
    { x: 18220, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 45 },
    { x: 18520, y: GROUND_Y - 110, type: 'flying', patrolRange: 70 },
    { x: 18920, y: GROUND_Y - 90 - ENTITY_SIZE, type: 'shooter' },
    { x: 19120, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 40 },
    { x: 19420, y: GROUND_Y - 130, type: 'flying', patrolRange: 65 },
    { x: 19820, y: GROUND_Y - 70 - ENTITY_SIZE, type: 'shooter' },
    { x: 20020, y: GROUND_Y - ENTITY_SIZE, type: 'armored', patrolRange: 50 },

    // Chomper-ы (3 штуки)
    { x: 2050, y: GROUND_Y - ENTITY_SIZE, type: 'chomper' },
    { x: 7200, y: GROUND_Y - ENTITY_SIZE, type: 'chomper' },
    { x: 13000, y: GROUND_Y - ENTITY_SIZE, type: 'chomper' },
  ],

  powerups: [
    { x: 700,   y: GROUND_Y - 60, type: 'shield' },
    { x: 2100,  y: GROUND_Y - 80, type: 'bomb' },
    { x: 3800,  y: GROUND_Y - 50, type: 'rocket' },
    { x: 5500,  y: GROUND_Y - 70, type: 'shield' },
    { x: 7200,  y: GROUND_Y - 60, type: 'bomb' },
    { x: 9200,  y: GROUND_Y - 50, type: 'rocket' },
    { x: 10800, y: GROUND_Y - 60, type: 'shield' },
    { x: 12300, y: GROUND_Y - 70, type: 'bomb' },
    { x: 17500, y: GROUND_Y - 50, type: 'rocket' },
    { x: 19200, y: GROUND_Y - 60, type: 'shield' },
  ],

  cages: [
    { x: 3310,  y: GROUND_Y - 140, skinId: 'chrome' },
    { x: 8520,  y: GROUND_Y - 150, skinId: 'neon' },
    { x: 13410, y: GROUND_Y - 130, skinId: 'void' },
  ],

  coins: [
    { x: 300,   y: GROUND_Y - 55 },
    { x: 360,   y: GROUND_Y - 55 },
    { x: 420,   y: GROUND_Y - 55 },
    { x: 1100,  y: GROUND_Y - 80 },
    { x: 1160,  y: GROUND_Y - 100 },
    { x: 1220,  y: GROUND_Y - 80 },
    { x: 2100,  y: GROUND_Y - 60 },
    { x: 2160,  y: GROUND_Y - 60 },
    { x: 2900,  y: GROUND_Y - 120 },
    { x: 2960,  y: GROUND_Y - 120 },
    { x: 4200,  y: GROUND_Y - 80 },
    { x: 4260,  y: GROUND_Y - 100 },
    { x: 5300,  y: GROUND_Y - 60 },
    { x: 5360,  y: GROUND_Y - 60 },
    { x: 6200,  y: GROUND_Y - 120 },
    { x: 7200,  y: GROUND_Y - 60 },
    { x: 7260,  y: GROUND_Y - 60 },
    { x: 8200,  y: GROUND_Y - 80 },
    { x: 9100,  y: GROUND_Y - 90 },
    { x: 10000, y: GROUND_Y - 60 },
    { x: 10060, y: GROUND_Y - 60 },
    { x: 11000, y: GROUND_Y - 80 },
    { x: 12100, y: GROUND_Y - 90 },
    { x: 13000, y: GROUND_Y - 60 },
    { x: 17600, y: GROUND_Y - 60 },
    { x: 18700, y: GROUND_Y - 80 },
    { x: 19500, y: GROUND_Y - 60 },
    { x: 19560, y: GROUND_Y - 60 },
    { x: 20100, y: GROUND_Y - 60 },
    { x: 20160, y: GROUND_Y - 60 },
  ],

  fallingBlocks: [
    { x: 1700, y: GROUND_Y - 140, width: 65, height: 16 },
    { x: 4900, y: GROUND_Y - 150, width: 70, height: 16 },
    { x: 8600, y: GROUND_Y - 145, width: 65, height: 16 },
    { x: 12700, y: GROUND_Y - 140, width: 60, height: 16 },
  ],

  pendulums: [
    { x: 3500, y: GROUND_Y - 250, length: 150, amplitude: 1.1, phase: 0,   speed: 0.03,  ballRadius: 16 },
    { x: 6800, y: GROUND_Y - 240, length: 140, amplitude: 1.0, phase: 1.0, speed: 0.035, ballRadius: 16 },
    { x: 11000, y: GROUND_Y - 260, length: 155, amplitude: 1.2, phase: 2.0, speed: 0.028, ballRadius: 16 },
  ],

  rocketCorridor: {
    startX: 14000,
    endX: 17000,
    gapSizeFunc: 'variable',
    movingSpikes: [
      { offsetX: 300,  amplitude: 55, phase: 0,   speed: 0.045 },
      { offsetX: 700,  amplitude: 50, phase: 1.0, speed: 0.055 },
      { offsetX: 1100, amplitude: 60, phase: 0.5, speed: 0.04 },
      { offsetX: 1500, amplitude: 55, phase: 2.0, speed: 0.05 },
      { offsetX: 1900, amplitude: 50, phase: 0.8, speed: 0.06 },
      { offsetX: 2300, amplitude: 45, phase: 1.5, speed: 0.045 },
    ],
    rotatingBlocks: [
      { offsetX: 500,  gapOffset: -0.2, size: 22 },
      { offsetX: 1000, gapOffset:  0.2, size: 22 },
      { offsetX: 1700, gapOffset:  0,   size: 22 },
      { offsetX: 2500, gapOffset: -0.3, size: 22 },
    ],
    coins: [
      { offsetX: 800,  gapOffset: 0 },
      { offsetX: 1300, gapOffset: -0.25 },
      { offsetX: 2100, gapOffset: 0.25 },
    ],
  },

  boss: {
    type: 'core',
    name: 'CORE',
    hp: 60,
    phases: 3,
  },
};

export default level5;
